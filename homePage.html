<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="/style/style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Spotify – Home</title>
    <link rel="icon" type="image/png" href="/photos/icon.png" />
  </head>
  <body class="gray-bg">
    <nav class="navbar d-none">
      <ol style="list-style: none;" class="d-flex">
        <li class="pr-2"><a href="homePage.html">Home</a></li>
        <li class="pr-2"><a href="#">Search</a></li>
        <li class="pr-2"><a href="library.html">My Library</a></li>
      </ol>
    </nav>
      <div class="container-fluid">
          <div class="row">
              <div id="menu" class="col-2 black-bg">
                <div>
                  <img src="/photos/spotify.png" width="120px" height="40px"/>
                  <ol id="menuOl">
                    <li><i class="fa fa-home pr-2"></i>Home</li>
                    <li><i class="fa fa-search pr-2"></i>Search</li>
                    <li><i class="fa fa-bookmark pr-2"></i>Your Library</li>
                  </ol>
                </div>
                <div id="menu2">
                  <p><i class=" ml-2 fa fa-download pr-2"></i>Install App</p>
                  <hr>
                  <div class="d-flex justify-content-between">
                    <img src="/photos/avatar.png" height="25px" width="30px" class="pr-2" />
                    <p><b>Diego 'Zibo' Banovaz</b></p>
                  </div>
                </div>
              </div>
              <div class="col-10 gray-bg">
                <div class="row row-cols-xs-1">
                  <div id="content" class="col-12 col-md-4 d-flex justify-content-end">
                    <div class="card mt-5">
                      <img src="/photos/musicToBeMurdered.jpg" height="250px"/>
                      <p>Music to Be Murdered By</p>
                      <label>Eminem</label>
                      <button type="button" class="btn">PLAY</button>
                      <label>2020 . 20 SONGS</label>
                    </div>
                  </div>
                  <div id="songs" class="col">
                    <div  class="card">
                      <div class="selected">
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Premonition (Intro)</p>
                          <p>2:54</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">0</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Unaccommodating</p>
                          <p>3:37</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">1</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>You Gon’ Learn</p>
                          <p>3:55</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">2</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Alfred (Interlude)</p>
                          <p>0:30</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">3</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Those Kinda Nights</p>
                          <p>2:58</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">4</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>In Too Deep</p>
                          <p>3:15</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">5</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Godzilla</p>
                          <p>3:31</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">6</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Darkness</p>
                          <p>5:37</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">7</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Leaving Heaven</p>
                          <p>4:26</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">8</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Yah Yah</p>
                          <p>4:47</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">9</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Stepdad (Intro)</p>
                          <p>0:15</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">10</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Stepdad</p>
                          <p>3:34</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">11</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Marsh</p>
                          <p>3:21</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">12</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Never Love Again</p>
                          <p>2:58</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">13</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Little Engine</p>
                          <p>2:57</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">14</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Lock It Up</p>
                          <p>2:50</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">15</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Farewell</p>
                          <p>4:08</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">16</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>No Regrets</p>
                          <p>3:21</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">17</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>I Will</p>
                          <p>5:03</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">18</p>
                      </div>
                      <div>
                        <div class="d-flex justify-content-between">
                          <p><i class="fa fa-music pr-3"></i>Alfred (Outro)</p>
                          <p>0:39</p>
                        </div>
                        <label>Eminem</label>
                        <p class="songNr">19</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </div>
          <footer>
            <div class="row light-gray-bg">
              <div class="col-3 d-flex p-2 pl-2 align-center footer_hide">
                <img src="/photos/song.png" width="45px" height="45px"/>
                <div class="pb-0 mb-0">
                  <p id="songTitle" class="pl-3 p-0 m-0">Premonition (Intro)</p>
                  <label class="pl-3 ">Eminem</label>
                </div>
                <i class="fa fa-heart ml-3 pt-3"></i>
                <i class="fa fa-window-maximize ml-3 pt-3"></i>
              </div>
              <div class="col p-1">
                <div class="row-1">
                  <div id="icons" class="col d-flex justify-content-center align-center">
                    <button><i class="fa fa-random pr-2 pt-1"></i></button>
                    <button onclick="playBack()"><i class="fa fa-step-backward pr-2 pt-1"></i></button>
                    <button onclick="togglePlay()" id="play"><audio id="audio" autoplay="autoplay" src="/playList/Premonition (Intro).mp3"> </audio><i class="fa fa-play-circle pr-2"></i></button>
                    <button onclick="playNext()"><i class="fa fa-step-forward pr-2 pt-1"></i></button>
                    <button onclick="loop()" id="loop"><i class="fa fa-retweet pt-1"></i></button>
                  </div>
                  <div class="col d-flex footer_hide">
                    <label>0:00</label>
                    <div class="progress-bar"><div class="middle-align progress-bar__bg"><div class="progress-bar__fg_wrapper"><div class="progress-bar__fg" style="transform: translateX(-100%);"></div></div><button aria-label="Change progress" class="middle-align progress-bar__slider" style="left: 0%;"></button></div></div>
                    <label id="songLength">2:54</label>
                  </div>
                </div>
              </div>
              <div class="col-3 d-flex p-2 pl-2 justify-content-end footer_hide">
                <i class="fa fa-bars ml-3 pt-3"></i>
                <i class="fa fa-headphones ml-3 pt-3"></i>
                <i class="fa fa-volume-up ml-3 pt-3"></i>
                <div class="progress-bar1"><div class="middle-align progress-bar__bg"><div class="progress-bar__fg_wrapper"><div class="progress-bar__fg" style="transform: translateX(-100%);"></div></div><button aria-label="Change progress" class="middle-align progress-bar__slider" style="left: 0%;"></button></div></div>
              </div>
            </div>
          </footer>
        </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script>
      window.onload = function(){
                var songs = document.querySelectorAll("#songs .card>div")
                let menu = document.querySelectorAll("#menuOl li")

                for(let i=0; i<menu.length;i++){
                  var checked = document.querySelector(".border-left")
                  menu[i].addEventListener("click",function(){
                    if(menu[i].classList.contains("border-left")){
                      menu[i].style.border=`0px !important`
                    }else{
                      menu[i].classList.toggle("border-left")
                    }
                    
                  })
                  
                  menu[i].addEventListener("mouseover",function(){
                    menu[i].style.borderLeft="4px solid rgb(1, 199, 1)"
                  })
                  menu[i].addEventListener("mouseout",function(){
                    menu[i].style.borderLeft=""
                  })
                }

                for(let i=0; i<songs.length; i++){

                    songs[i].addEventListener("click",function(event){
                      let selected = document.querySelector(".selected")
                        if(selected){
                            selected.className = selected.className.replace(`selected`,``)
                        }
                        event.currentTarget.className += "selected"
                        let songName = document.querySelector(".selected .d-flex p").innerText
                        let length = document.querySelector(".selected .d-flex p:not(:first-child)").innerText

                        let newName = document.querySelector("#songTitle").innerText = songName
                        let newLength = document.querySelector("#songLength").innerText = length

                        let audio = document.querySelector("#audio")
                        audio["src"] = `/playList/${newName}.mp3`
                    })
                }
            }
            var myAudio = document.getElementById("audio")
            var isPlaying = true

            function togglePlay() {
              if (isPlaying) {
                myAudio.pause()
              } else {
                myAudio.play();
              }
            }
            myAudio.onplaying = function() {
              isPlaying = true;
              document.querySelector("#play i").classList="fa fa-pause pr-2"
            }
            myAudio.onpause = function() {
              isPlaying = false;
              document.querySelector("#play i").classList="fa fa-play-circle pr-2"
            }
            function playNext(){
              let songs = document.querySelectorAll("#songs .card>div")
              let selected = document.querySelector(".selected")
              let nr = parseInt(document.querySelector("#songs .selected .songNr").innerText)
                            
              if(selected){
                nr+= 1
                selected.className = selected.className.replace(`selected`,``)
                songs[nr].className +="selected"
              }
              let songName = document.querySelector(".selected .d-flex p").innerText
              let length = document.querySelector(".selected .d-flex p:not(:first-child)").innerText

              let newName = document.querySelector("#songTitle").innerText = songName
              let newLength = document.querySelector("#songLength").innerText = length

              let audio = document.querySelector("#audio")
              audio["src"] = `/playList/${newName}.mp3`
            }
            
            function playBack(){
              let songs = document.querySelectorAll("#songs .card>div")
              let selected = document.querySelector(".selected")
              let nr = parseInt(document.querySelector("#songs .selected .songNr").innerText)
                            
              if(selected){
                if(!nr==0){
                  nr-= 1
                  selected.className = selected.className.replace(`selected`,``)
                  songs[nr].className +="selected"

                  let songName = document.querySelector(".selected .d-flex p").innerText
                  let length = document.querySelector(".selected .d-flex p:not(:first-child)").innerText

                  let newName = document.querySelector("#songTitle").innerText = songName
                  let newLength = document.querySelector("#songLength").innerText = length

                  let audio = document.querySelector("#audio")
                  audio["src"] = `/playList/${newName}.mp3`
                }
              }
              
            }

            function loop(){
              if(document.getElementById("loop").classList.contains("checked")){
                document.getElementById("loop").classList.remove("checked")
                myAudio.loop = false
              }else{
                document.getElementById("loop").classList+="checked"
                myAudio.loop = true
              }
              
            }

    </script>
  </body>
</html>